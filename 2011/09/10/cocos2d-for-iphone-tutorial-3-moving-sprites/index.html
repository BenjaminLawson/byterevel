<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.9.1 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Cocos2D For iPhone Tutorial 3 – Moving Sprites - Byte Revel</title>
<meta name="description" content="">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Byte Revel">
<meta property="og:title" content="Cocos2D For iPhone Tutorial 3 – Moving Sprites">
<meta property="og:url" content="/2011/09/10/cocos2d-for-iphone-tutorial-3-moving-sprites/">


  <meta property="og:description" content="">







  <meta property="article:published_time" content="2011-09-10T04:15:16-07:00">





  

  


<link rel="canonical" href="/2011/09/10/cocos2d-for-iphone-tutorial-3-moving-sprites/">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Byte Revel",
      "url": null,
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Byte Revel Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


    <!-- start custom head snippets -->

<!-- insert favicons. use http://realfavicongenerator.net/ -->

<!-- end custom head snippets -->
  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="/">Byte Revel</a>
        <ul class="visible-links">
          
        </ul>
        
        <button class="search__toggle" type="button">
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="http://schema.org/Person">

  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name"></h3>
    
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Cocos2D For iPhone Tutorial 3 – Moving Sprites">
    <meta itemprop="description" content="">
    <meta itemprop="datePublished" content="September 10, 2011">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">Cocos2D For iPhone Tutorial 3 – Moving Sprites
</h1>
          
            <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  4 minute read
</p>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p><a href="/wp-content/uploads/2011/06/cocos2d.png"><img class="aligncenter size-full wp-image-769" title="cocos2d" src="/wp-content/uploads/2011/06/cocos2d.png" alt="" width="160" height="237" /></a></p>

<p>In our last tutorial, we covered <a href="/2011/07/15/cocos2d-for-iphone-tutorial-2-make-a-sprite-not-the-drink/" title="Cocos2D For iPhone Tutorial 2 –  Make A Sprite (Not The Drink!)">making a sprite</a> appear on the screen. In this tutorial, we will be moving a sprite across the screen by using a technique called “animation”. In animation, a succession of new positions are combined to give the illusion of movement. Think “Steamboat Willie”, the famous Walt Disney cartoon. It was created with thousands of drawings all strung together and played in quick succession. Similarly, we will set a new position for our sprite in every frame. This new position will be right next to the last, and when the app is opened, these frames containing the new positions will be played in quick succession. Unlike cartoons, however, this animation will only consist of the movement of a single static object.</p>

<p style="text-align: center;">
  <span class="vvqbox vvqyoutube" style="width:585px;height:330px;"><span id="vvq-2697-youtube-1"><a href="http://www.youtube.com/watch?v=BBgghnQF6E4"><img src="http://img.youtube.com/vi/BBgghnQF6E4/0.jpg" alt="YouTube Preview Image" /></a></span></span>
</p>

<p>To begin the coding process for animating our sprite, we must first have a sprite. We already did that in the last tutorial, so let’s simply work with that code. If you don’t already have it, go to the last tutorial and copy and paste the code into Xcode.</p>

<p>The things that we will need to add to our program in order to accomplish animation include a line that will call a method every frame, and the method that is called every frame.</p>

<table border="0" align="center">
  <tr>
    <td>
      <pre>#import "HelloWorldScene.h"</pre>
      
      <pre>CCSprite *icon;</pre>
      
      <pre>@implementation HelloWorld</pre>
      
      <pre>+(id) scene</pre>
      
      <pre>{</pre>
      
      <pre>CCScene *scene = [CCScene node];</pre>
      
      <pre>HelloWorld *layer = [HelloWorld node];</pre>
      
      <pre>[scene addChild: layer];</pre>
      
      <pre>return scene;</pre>
      
      <pre>}</pre>
      
      <pre>-(id) init</pre>
      
      <pre>{</pre>
      
      <pre>if( (self=[super init] )) {</pre>
      
      <pre>icon = [CCSprite spriteWithFile:@"Icon.png"];</pre>
      
      <pre>icon.position = ccp(300,200);</pre>
      
      <pre>[self addChild:icon];</pre>
      
      <pre><span style="color: #ff0000;">[self schedule:@selector(DoEveryFrame:)];</span></pre>
      
      <pre>}</pre>
      
      <pre>return self;</pre>
      
      <pre>}</pre>
      
      <pre>- (void) dealloc</pre>
      
      <pre>{</pre>
      
      <pre>[super dealloc];</pre>
      
      <pre>}</pre>
      
      <pre><span style="color: #ff0000;">-(void) DoEveryFrame: (ccTime)dt{</span></pre>
      
      <pre><span style="color: #ff0000;">icon.position = ccp(icon.position.x + 150*dt, icon.position.y);</span></pre>
      
      <pre><span style="color: #ff0000;">}</span></pre>
      
      <pre>@end</pre>
    </td>
  </tr>
</table>

<p> </p>

<p><strong><span style="font-size: large;">[self schedule:@selector(DoEveryFrame:)];</span></strong></p>

<p>This line will run the “schedule” method of the “self” object. When calling a method that is in the same class as the method you are working on, you use “self” instead of the name of your object to refer to the class. In this case, our class is CCLayer. The “schedule” method runs the method that is passed into it every frame. The method that we are passing into it is “DoEveryFrame.”</p>

<p> </p>

<p><strong><span style="font-size: large;">-(void) DoEveryFrame: (ccTime)dt{</span></strong></p>

<p><strong><span style="font-size: large;">icon.position = ccp(icon.position.x + 150*dt, icon.position.y);</span></strong></p>

<p><strong><span style="font-size: large;">}</span></strong></p>

<p>This is the method “DoEveryFrame.” It requires that that the paramater “ccTime” be passed into it. The variable “dt” will be set equal to “ccTime” so that we can use it in our method code. ccTime will give us the difference in time from when the DoEveryFrame method was last called. The only line of code in our method is going to be the one that sets a new position for our sprite. It basically sets the position equal to the point with an x-coordinate that is the current x-coordinate <em>plus</em> 150 pixels times the difference in time since the last frame (usually fractions of a second), and a y-coordinate  that is the same as the current y-coordinate. The net effect is that our sprite will appear to slide right on our screen. The reason we use the difference in time is to make sure that the sprite moves 150 pixels a second no matter what the frame rate is.</p>

<p>If we run the program now, the cocos2d icon will appear on the screen and then slide to the right. It keeps on going even after it goes off the screen. The next thing we’re going to to is prevent it from going off screen by resetting its position to the left side of the screen once it’s reached the right side of the screen. We can do this with a simple <a title="Objective-C Tutorial 3 – If Else Statements And Basic Looping" href="/2011/07/13/objective-c-tutorial-3-if-else-statements-and-basic-looping/" target="_blank">if-else statement</a> that essentially says “if the x-coordinate is greater than this value, then change the x-coordinate to this.”</p>

<table border="0" align="center">
  <tr>
    <td>
      <pre>#import "HelloWorldScene.h"</pre>
      
      <pre>CCSprite *icon;</pre>
      
      <pre>@implementation HelloWorld</pre>
      
      <pre>+(id) scene</pre>
      
      <pre>{</pre>
      
      <pre>CCScene *scene = [CCScene node];</pre>
      
      <pre>HelloWorld *layer = [HelloWorld node];</pre>
      
      <pre>[scene addChild: layer];</pre>
      
      <pre>return scene;</pre>
      
      <pre>}</pre>
      
      <pre>-(id) init</pre>
      
      <pre>{</pre>
      
      <pre>if( (self=[super init] )) {</pre>
      
      <pre>icon = [CCSprite spriteWithFile:@"Icon.png"];</pre>
      
      <pre>icon.position = ccp(300,200);</pre>
      
      <pre>[self addChild:icon];</pre>
      
      <pre>[self schedule:@selector(DoEveryFrame:)];</pre>
      
      <pre>}</pre>
      
      <pre>return self;</pre>
      
      <pre>}</pre>
      
      <pre>- (void) dealloc</pre>
      
      <pre>{</pre>
      
      <pre>[super dealloc];</pre>
      
      <pre>}</pre>
      
      <pre>-(void) DoEveryFrame: (ccTime)dt{</pre>
      
      <pre>icon.position = ccp(icon.position.x + 150*dt, icon.position.y);</pre>
      
      <pre><span style="color: #ff0000;">if (icon.position.x &gt; 480+30) {</span></pre>
      
      <pre><span style="color: #ff0000;">icon.position = ccp(-30, icon.position.y);</span></pre>
      
      <pre><span style="color: #ff0000;">}</span></pre>
      
      <pre>}</pre>
      
      <pre>@end</pre>
    </td>
  </tr>
</table>

<p> </p>

<p><strong><span style="font-size: large;">if (icon.position.x &gt; 480+30) {</span></strong></p>

<p><strong><span style="font-size: large;">icon.position = ccp(-30, icon.position.y);</span></strong></p>

<p><strong><span style="font-size: large;">}</span></strong></p>

<p>This is the if-else statement. In plain English, it says “If the x-coordinate of the icon sprite is greater than 480 + 30, then set its  x-coordinate to -30 and leave the y-coordinate the same as it currently is.” The reason we chose 480 + 30 as the x-coordinate at which the position is reset is because the width of the screen is 480 pixels, and half the width of our sprite is 30 pixels. That way, the icon re-appears on the left side of the screen at the same time it disappears off the right side of the screen.</p>

<p>Upon running the above code, your sprite will move across the screen, re-appearing on the left side of the screen as it goes off the right side. I encourage you to mess around with the positions in the DoEveryFrame method. See if you can get the sprite to scroll vertically or even diagonally!</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#cocos2d" class="page__taxonomy-item" rel="tag">cocos2d</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#ios" class="page__taxonomy-item" rel="tag">ios</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#iphone" class="page__taxonomy-item" rel="tag">iphone</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#moving-sprites" class="page__taxonomy-item" rel="tag">moving sprites</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#sprite" class="page__taxonomy-item" rel="tag">sprite</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#cocos2d" class="page__taxonomy-item" rel="tag">Cocos2D</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2011-09-10T04:15:16-07:00">September 10, 2011</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="/2011/09/09/n-o-v-a-near-orbit-vanguard-alliance-app-review/" class="pagination--pager" title="N.O.V.A. – Near Orbit Vanguard Alliance (App Review)
">Previous</a>
    
    
      <a href="/2011/09/14/robotc-tutorial-1-the-basics/" class="pagination--pager" title="RobotC Tutorial 1-The Basics
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/wp-content/uploads/2016/08/icon1024.png"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2016/08/21/beardedspice-for-mac-lets-you-control-any-music-website-with-your-media-keys/" rel="permalink">BeardedSpice for Mac Lets You Control Any Music Website with Your Media Keys
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">

</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/wp-content/uploads/2016/02/uber-logo.png"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2016/02/21/the-growth-of-sharing-services/" rel="permalink">The Growth of Sharing Services
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  2 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Over the past few years, the tech sector has seen an emergence of, for lack of a better term, “sharing services,” or companies that network and rent out dist...</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/wp-content/uploads/2015/11/Quantopian_S1.png"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2015/11/02/quantopian-technology-to-backtest-and-execute-algorithmic-trading/" rel="permalink">Quantopian – Technology to Backtest and Execute Algorithmic Trading
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  1 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Algorithmic trading is growing field in finance that uses computers to execute securities trades. With growing research in artificial intelligence and machin...</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/wp-content/uploads/2015/10/Cu_computer_science.jpg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2015/10/17/computer-science-at-undergraduate-level-part-i/" rel="permalink">Computer Science at Undergraduate Level (Part I)
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  3 minute read
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Computer Science is rapidly becoming a popular major among students as the job market for CS majors shows consistent growth. Additionally, the market for CS ...</p>
  </article>
</div>
        
      </div>
    </div>
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap">
  <input type="text" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  <div id="results" class="results"></div>
</div>
      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
    
    
    
    
    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2018 Byte Revel. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>



  
  
  <script src="/assets/js/lunr/lunr.min.js"></script>
  <script src="/assets/js/lunr/lunr-store.js"></script>
  <script src="/assets/js/lunr/lunr-en.js"></script>





    
  <script>
    var disqus_config = function () {
      this.page.url = "/2011/09/10/cocos2d-for-iphone-tutorial-3-moving-sprites/";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = "/2011/09/10/cocos2d-for-iphone-tutorial-3-moving-sprites"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://byte-revel.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  



  </body>
</html>